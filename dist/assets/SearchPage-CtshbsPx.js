import{d as A,i as B,u as k,r as u,j as a,k as S,S as D,c as z,L as C}from"./index-CHW_jxOE.js";import{u as E,i as I,b as F,c as L,d as W,e as V}from"./useJokes-mv1f9t73.js";import{J as _}from"./JokeCard-CMEdOhgc.js";import"./useMutation-BSQQP79B.js";import"./volume-2-BGdcmrs7.js";import"./thumbs-up-Uraezlc9.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function $(){var l,g;const[P]=B(),t=P.get("q")||"",{user:o}=k(),[i,f]=u.useState(null),[s,b]=u.useState("relevance"),{data:j=[]}=E(),{data:n,isLoading:y,error:N}=I(t,{categoryId:i,sortBy:s,page:0}),p=((l=n==null?void 0:n.jokes)==null?void 0:l.map(e=>e.id))||[],{data:d=[]}=F((o==null?void 0:o.id)||"",p),{data:m=[]}=L((o==null?void 0:o.id)||"",p),v=W();V();const r=((g=n==null?void 0:n.jokes)==null?void 0:g.map(e=>({...e,userVote:(d==null?void 0:d.find(c=>c.joke_id===e.id))||null,isFavorite:(m==null?void 0:m.some(c=>c.joke_id===e.id))||!1})))||[],x=(n==null?void 0:n.totalCount)||0,w=async(e,c)=>{var h;o&&((h=c==null?void 0:c.userVote)!=null&&h.vote_type)&&v.mutate({jokeId:e,userId:o.id,voteType:c.userVote.vote_type})};return N?a.jsx("div",{className:"min-h-screen bg-muted/30","data-matrix-id":"src/pages/SearchPage.tsx:72:6","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"72","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-muted%2F30%22%7D",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12","data-matrix-id":"src/pages/SearchPage.tsx:73:8","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"73","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%20px-6%20py-12%22%7D",children:a.jsx("div",{className:"text-center py-16","data-matrix-id":"src/pages/SearchPage.tsx:74:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"74","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-16%22%7D",children:a.jsxs("div",{className:"mb-6","data-matrix-id":"src/pages/SearchPage.tsx:75:12","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"75","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%22%7D",children:[a.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4","data-matrix-id":"src/pages/SearchPage.tsx:76:14","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"76","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-24%20h-24%20bg-red-100%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-4%22%7D",children:a.jsx("span",{className:"text-4xl","data-matrix-id":"src/pages/SearchPage.tsx:77:16","data-matrix-name":"span","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"77","data-component-file":"SearchPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-4xl%22%7D",children:"❌"})}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 heading","data-matrix-id":"src/pages/SearchPage.tsx:79:14","data-matrix-name":"h3","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"79","data-component-file":"SearchPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-foreground%20mb-2%20heading%22%7D",children:"Wystąpił błąd wyszukiwania"}),a.jsx("p",{className:"text-content-muted mb-6","data-matrix-id":"src/pages/SearchPage.tsx:82:14","data-matrix-name":"p","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"82","data-component-file":"SearchPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-content-muted%20mb-6%22%7D",children:"Nie udało się wyszukać dowcipów. Spróbuj zmienić zapytanie."})]})})})}):t?a.jsxs(a.Fragment,{children:[a.jsx(D,{title:t?`Wyniki wyszukiwania: "${t}"`:"Wyszukiwarka dowcipów",description:t?`Znajdź najlepsze dowcipy dla zapytania "${t}". Odkryj śmieszne żarty dopasowane do Twoich preferencji.`:"Wyszukaj najlepsze polskie dowcipy. Znajdź śmieszne żarty według kategorii i słów kluczowych.",canonical:t?`/wyszukiwarka?q=${encodeURIComponent(t)}`:"/wyszukiwarka",noindex:!t,structuredData:z([{name:"Strona główna",url:"https://jokebox.pl"},{name:"Wyszukiwarka",url:"https://jokebox.pl/wyszukiwarka"}]),"data-matrix-id":"src/pages/SearchPage.tsx:112:6","data-matrix-name":"SEO","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"112","data-component-file":"SearchPage.tsx","data-component-name":"SEO","data-component-content":"%7B%22title%22%3A%22%5BConditionalExpression%5D%22%2C%22description%22%3A%22%5BConditionalExpression%5D%22%2C%22canonical%22%3A%22%5BConditionalExpression%5D%22%2C%22noindex%22%3A%22%5BUnaryExpression%5D%22%2C%22structuredData%22%3A%22%5BCallExpression%5D%22%7D"}),a.jsx("div",{className:"min-h-screen bg-muted/30","data-matrix-id":"src/pages/SearchPage.tsx:125:6","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"125","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-muted%2F30%22%7D",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 sm:px-8 lg:px-12 py-12","data-matrix-id":"src/pages/SearchPage.tsx:126:6","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"126","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-6xl%20mx-auto%20px-6%20sm%3Apx-8%20lg%3Apx-12%20py-12%22%7D",children:[a.jsxs("div",{className:"mb-8","data-matrix-id":"src/pages/SearchPage.tsx:128:8","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"128","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-8%22%7D",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2 heading","data-matrix-id":"src/pages/SearchPage.tsx:129:10","data-matrix-name":"h1","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"129","data-component-file":"SearchPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20mb-2%20heading%22%7D",children:"Wyniki wyszukiwania"}),a.jsx("p",{className:"text-content-muted","data-matrix-id":"src/pages/SearchPage.tsx:132:10","data-matrix-name":"p","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"132","data-component-file":"SearchPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-content-muted%22%7D",children:x>0?a.jsxs(a.Fragment,{children:["Znaleziono ",a.jsx("span",{className:"font-semibold","data-matrix-id":"src/pages/SearchPage.tsx:135:27","data-matrix-name":"span","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"135","data-component-file":"SearchPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:x})," dowcipów dla zapytania:",a.jsxs("span",{className:"font-semibold","data-matrix-id":"src/pages/SearchPage.tsx:136:16","data-matrix-name":"span","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"136","data-component-file":"SearchPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:[' "',t,'"']}),r.length>0&&s==="relevance"&&a.jsx("span",{className:"text-sm text-muted-foreground ml-2","data-matrix-id":"src/pages/SearchPage.tsx:138:18","data-matrix-name":"span","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"138","data-component-file":"SearchPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20ml-2%22%7D",children:"(sortowane według trafności)"})]}):a.jsxs(a.Fragment,{children:["Brak wyników dla zapytania: ",a.jsxs("span",{className:"font-semibold","data-matrix-id":"src/pages/SearchPage.tsx:145:44","data-matrix-name":"span","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"145","data-component-file":"SearchPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:[' "',t,'"']})]})})]}),a.jsx("div",{className:"bg-card rounded-xl shadow-sm border border-border p-6 mb-6","data-matrix-id":"src/pages/SearchPage.tsx:152:8","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"152","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-xl%20shadow-sm%20border%20border-border%20p-6%20mb-6%22%7D",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-matrix-id":"src/pages/SearchPage.tsx:153:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"153","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/SearchPage.tsx:155:12","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"155","data-component-file":"SearchPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/SearchPage.tsx:156:14","data-matrix-name":"label","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"156","data-component-file":"SearchPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Kategoria"}),a.jsxs("select",{value:i||"",onChange:e=>f(e.target.value?Number(e.target.value):null),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-background text-foreground","data-matrix-id":"src/pages/SearchPage.tsx:159:14","data-matrix-name":"select","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"159","data-component-file":"SearchPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-border%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary%20bg-background%20text-foreground%22%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/pages/SearchPage.tsx:164:16","data-matrix-name":"option","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"164","data-component-file":"SearchPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Wszystkie kategorie"}),j.map(e=>a.jsx("option",{value:e.id,"data-matrix-id":"src/pages/SearchPage.tsx:166:18","data-matrix-name":"option","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"166","data-component-file":"SearchPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:e.name},e.id))]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/SearchPage.tsx:174:12","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"174","data-component-file":"SearchPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/SearchPage.tsx:175:14","data-matrix-name":"label","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"175","data-component-file":"SearchPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Sortowanie"}),a.jsxs("select",{value:s,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-background text-foreground","data-matrix-id":"src/pages/SearchPage.tsx:178:14","data-matrix-name":"select","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"178","data-component-file":"SearchPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-border%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary%20bg-background%20text-foreground%22%7D",children:[a.jsx("option",{value:"relevance","data-matrix-id":"src/pages/SearchPage.tsx:183:16","data-matrix-name":"option","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"183","data-component-file":"SearchPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22relevance%22%7D",children:"Najbardziej trafne"}),a.jsx("option",{value:"created_at","data-matrix-id":"src/pages/SearchPage.tsx:184:16","data-matrix-name":"option","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"184","data-component-file":"SearchPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22created_at%22%7D",children:"Najnowsze"}),a.jsx("option",{value:"score","data-matrix-id":"src/pages/SearchPage.tsx:185:16","data-matrix-name":"option","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"185","data-component-file":"SearchPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22score%22%7D",children:"Najpopularniejsze"})]})]})]})}),y?a.jsx("div",{className:"flex justify-center py-16","data-matrix-id":"src/pages/SearchPage.tsx:193:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"193","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20py-16%22%7D",children:a.jsx(J,{className:"h-8 w-8 animate-spin text-primary","data-matrix-id":"src/pages/SearchPage.tsx:194:12","data-matrix-name":"Loader2","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"194","data-component-file":"SearchPage.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20animate-spin%20text-primary%22%7D"})}):r.length>0?a.jsx("div",{className:"space-y-4","data-matrix-id":"src/pages/SearchPage.tsx:197:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"197","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:r.map(e=>a.jsx(_,{joke:e,onVoteChange:w,"data-matrix-id":"src/pages/SearchPage.tsx:199:14","data-matrix-name":"JokeCard","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"199","data-component-file":"SearchPage.tsx","data-component-name":"JokeCard","data-component-content":"%7B%22joke%22%3A%22%5BIdentifier%5D%22%2C%22onVoteChange%22%3A%22%5BIdentifier%5D%22%7D"},e.id))}):a.jsxs("div",{className:"text-center py-16","data-matrix-id":"src/pages/SearchPage.tsx:203:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"203","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-16%22%7D",children:[a.jsx(S,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4","data-matrix-id":"src/pages/SearchPage.tsx:204:12","data-matrix-name":"SearchIcon","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"204","data-component-file":"SearchPage.tsx","data-component-name":"SearchIcon","data-component-content":"%7B%22className%22%3A%22mx-auto%20h-16%20w-16%20text-muted-foreground%20mb-4%22%7D"}),a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2 heading","data-matrix-id":"src/pages/SearchPage.tsx:205:12","data-matrix-name":"h2","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"205","data-component-file":"SearchPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%20heading%22%7D",children:"Brak wyników"}),a.jsx("p",{className:"text-content-muted mb-4","data-matrix-id":"src/pages/SearchPage.tsx:208:12","data-matrix-name":"p","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"208","data-component-file":"SearchPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-content-muted%20mb-4%22%7D",children:"Nie znaleziono dowcipów pasujących do Twojego zapytania."}),a.jsx(C,{to:"/",className:"btn-primary","data-matrix-id":"src/pages/SearchPage.tsx:211:12","data-matrix-name":"Link","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"211","data-component-file":"SearchPage.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22className%22%3A%22btn-primary%22%7D",children:"Powrót do strony głównej"})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-muted/30","data-matrix-id":"src/pages/SearchPage.tsx:94:6","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"94","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-muted%2F30%22%7D",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-12","data-matrix-id":"src/pages/SearchPage.tsx:95:8","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"95","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%20px-6%20py-12%22%7D",children:a.jsxs("div",{className:"text-center py-16","data-matrix-id":"src/pages/SearchPage.tsx:96:10","data-matrix-name":"div","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"96","data-component-file":"SearchPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-16%22%7D",children:[a.jsx(S,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4","data-matrix-id":"src/pages/SearchPage.tsx:97:12","data-matrix-name":"SearchIcon","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"97","data-component-file":"SearchPage.tsx","data-component-name":"SearchIcon","data-component-content":"%7B%22className%22%3A%22mx-auto%20h-16%20w-16%20text-muted-foreground%20mb-4%22%7D"}),a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2 heading","data-matrix-id":"src/pages/SearchPage.tsx:98:12","data-matrix-name":"h2","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"98","data-component-file":"SearchPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%20mb-2%20heading%22%7D",children:"Wyszukaj dowcipy"}),a.jsx("p",{className:"text-content-muted","data-matrix-id":"src/pages/SearchPage.tsx:101:12","data-matrix-name":"p","data-component-path":"src/pages/SearchPage.tsx","data-component-line":"101","data-component-file":"SearchPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-content-muted%22%7D",children:"Użyj wyszukiwarki w górnej części strony, aby znaleźć interesujące Cię dowcipy."})]})})})}export{$ as default};
